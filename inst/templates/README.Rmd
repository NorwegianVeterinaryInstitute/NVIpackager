--- 
title: "README"
output: 
  md_document:
  variant: markdown_github
  
params:
  NVIpkg: "_package_name_"
---

```{r, include = FALSE}
# NVIpkg <- params$NVIpkg
NVIpkg <- stringi::stri_extract_last_words(usethis::proj_path())
NVIpkg_inline <- paste0("`", NVIpkg, "`")

knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

`r paste0(NVIpkg, ": ", desc::desc_get_field(key = "Title"))`
================

<!-- README.md is generated from README.Rmd. Please edit that file -->

  - [Overview](#overview)
  - [Installation](#installation)
  - [Usage](#usage)
  - [Copyright and license](#copyright-and-license)
  - [Contributing](#contributing)

## Overview
`r paste0(NVIpkg_inline, 
   "", 
   desc::desc_get_field(key = "Description"))`

The package is under development. [Contributions](#contributing) to enhance the package is highly appreciated.  

`r NVIpkg_inline` is part of `NVIverse`, a collection of R-packages with tools to facilitate data management and data reporting at the Norwegian Veterinary Institute (NVI).  
`r paste(NVIpackager::NVIpackages$Package, collapse = ",")`

####  Table 1. NVIverse packages
```{r echo = FALSE, resuls = 'asis'}
knitr::kable(x = NVIpackager::NVIpackages)
```

## Installation
```{r child=system.file('templates', "README_installation.Rmd", package = "NVIpackager")}
```

`r NVIpkg_inline`  is available at [GitHub](https://github.com/NorwegianVeterinaryInstitute). 
To install `r NVIpkg_inline` you will need:

- R version > 4.0.0
- R package `devtools`
- Rtools 4.0

First install and attach the `devtools` package.  

``` {r, eval = FALSE} 
install.packages("devtools")
library(devtools)
```

To install (or update) the `r NVIpkg_inline` package, run the following code:

``` {r text, message=FALSE, warnings=FALSE, echo=FALSE, prompt = FALSE, comment = ""} 
text <- paste(paste0('remotes::install_github("NorwegianVeterinaryInstitute/', NVIpkg, '")'), 
	'    upgrade = FALSE,', 
	'    build = TRUE,',
	'    build_manual = TRUE)', sep = '\n')
cat(text, sep="", fill = TRUE)
```

## Usage
```{r child=system.file('templates', "README_usage.Rmd", package = "NVIpackager")}
```

## Copyright and license
```{r child=system.file('templates', "README_copyright_and_license.Rmd", package = "NVIpackager")}
```

## Contributing
```{r child=system.file('templates', "README_contributing.Rmd", package = "NVIpackager")}
```

-----
```{r child=system.file('templates', "README_code_of_conduct.Rmd", package = "NVIpackager")}
```

